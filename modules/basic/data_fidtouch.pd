#N canvas 131 126 1260 585 12;
#X declare -path ../../core;
#X declare -path ../../core/stuff;
#X declare -path ../../core/rj;
#X declare -path ../../core/fid_abs_vanilia-0.4;
#N canvas 172 83 586 377 LICENSE-GPL 0;
#X text 57 88 This program is free software: you can redistribute it
and/or modify it under the terms of the GNU General Public License
as published by the Free Software Foundation \, either version 3 of
the License \, or (at your option) any later version.;
#X text 58 168 This program is distributed in the hope that it will
be useful \, but WITHOUT ANY WARRANTY \; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
General Public License for more details.;
#X text 57 261 You should have received a copy of the GNU General Public
License along with this program. If not \, see <http://www.gnu.org/licenses/>.
;
#X text 61 54 Copyright (C) 2009 \, Reality Jockey Ltd.;
#X text 60 325 See the file LICENSE.txt for the full license text.
;
#X restore 298 15 pd LICENSE-GPL;
#X obj 689 348 data_inlet \$0;
#X obj 688 370 data_outlet \$0;
#X text 670 47 Arguments;
#X text 677 88 1: nom de la classe;
#X text 677 113 2: largeur;
#X text 678 138 3: hauteur;
#X text 679 160 4: no de preset;
#X text 680 181 5: rotation;
#X text 680 204 6: nb de secteurs;
#X obj 174 285 r FID_CLASSES;
#N canvas 470 94 861 577 touch_event 0;
#X obj 127 36 inlet;
#X obj 376 60 t b;
#X obj 374 82 delay 20;
#X text 490 63 donner le temps au compteur d'instances dans la classe
de se mettre à jour;
#X msg 36 94 1;
#X msg 95 94 0;
#N canvas 66 70 921 567 touch_event_listener 0;
#X obj 215 256 t l l;
#X msg 465 395 0;
#X obj 214 362 * 2;
#X obj 214 413 +;
#X obj 44 112 t b f f;
#X obj 207 113 t b f f;
#X obj 348 93 t b f f;
#X obj 76 437 list append;
#X obj 19 521 select 0 1 2 3;
#X msg -32 150 add;
#X msg 17 154 update;
#X msg 62 190 remove;
#X obj 76 465 list trim;
#X obj 75 493 route add update remove;
#X msg 62 583 add;
#X obj 143 553 select 0 1 2 3;
#X msg 170 581 add;
#X msg 105 581 remove;
#X msg 212 583 update;
#X msg 260 584 remove;
#X obj 302 732 fid_set class-\$0;
#X obj 306 367 fid_get class-\$0;
#X obj 59 607 symbol;
#X obj 281 618 select add remove;
#X msg 264 699 1;
#X msg 307 705 0;
#X obj 59 627 t s s s;
#X obj 66 662 select add update;
#X obj 473 746 list append;
#X obj 76 232 t a;
#X obj -20 725 list append;
#X obj 453 482 t f f f f;
#X obj -21 750 list trim;
#X obj -21 774 route add update remove;
#X msg 160 317 0;
#X msg -23 816 add \$1;
#X msg 65 813 remove \$1;
#X obj 21 841 fid_class class-\$0;
#X obj 483 886 fid_set \$0-coords;
#X obj 272 529 select 0 1 2 3;
#X obj 214 309 expr ($f1>=0)&&($f1<=1)&&($f2>=0)&&($f2<=1);
#X obj 717 59 inlet enable;
#X obj 481 119 inlet listener_config;
#N canvas 136 50 1157 662 listener/coords_converter 0;
#X obj 74 68 inlet sid;
#X obj 75 226 fid_get x;
#X obj 104 195 fid_get y;
#X obj 133 165 fid_get Vx;
#X obj 162 136 fid_get Vy;
#X obj 75 99 t f f f f;
#X obj 70 565 outlet new_coords;
#X obj 369 67 inlet listener_config;
#X msg 227 8 listener circle x y radius;
#X msg 227 33 listener rect x y width height alpha;
#X obj 367 143 unpack f f f f f;
#X obj 525 232 t f f;
#X obj 517 258 cos;
#X obj 566 259 sin;
#X obj 70 313 expr ($f1-$f3)*$f5-($f2-$f4)*$f6 \; ($f1-$f3)*$f6+($f2-$f4)*$f5
\;;
#X obj 70 365 /;
#X obj 397 364 /;
#X text 450 318 x' = x cos varphi - y sin varphi y' = x sin varphi
+ y cos varphi;
#X obj 69 395 + 0.5;
#X obj 398 394 + 0.5;
#X obj 327 505 /;
#X obj 534 505 /;
#X obj 77 531 pack f f f f;
#X obj 520 184 * -1;
#X obj 327 441 expr $f1*$f3-$f2*$f4 \; $f1*$f4+$f2*$f3 \;;
#X obj 370 102 route rect circle;
#X msg 608 122 \$1 \$2 \$3 \$3 0;
#X connect 0 0 5 0;
#X connect 1 0 14 0;
#X connect 2 0 14 1;
#X connect 3 0 24 0;
#X connect 4 0 24 1;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 5 2 3 0;
#X connect 5 3 4 0;
#X connect 7 0 25 0;
#X connect 10 0 14 2;
#X connect 10 1 14 3;
#X connect 10 2 15 1;
#X connect 10 2 20 1;
#X connect 10 3 16 1;
#X connect 10 3 21 1;
#X connect 10 4 23 0;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 12 0 14 4;
#X connect 12 0 24 2;
#X connect 13 0 14 5;
#X connect 13 0 24 3;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 15 0 18 0;
#X connect 16 0 19 0;
#X connect 18 0 22 0;
#X connect 19 0 22 1;
#X connect 20 0 22 2;
#X connect 21 0 22 3;
#X connect 22 0 6 0;
#X connect 23 0 11 0;
#X connect 24 0 20 0;
#X connect 24 1 21 0;
#X connect 25 0 10 0;
#X connect 25 1 26 0;
#X connect 26 0 10 0;
#X restore 222 209 pd listener/coords_converter;
#X obj 232 142 t f;
#X text 571 266 critÃ¨re d'inclusion (carrÃ©);
#X obj 207 82 spigot;
#X obj 72 80 spigot;
#X obj 700 200 select 0;
#X obj 682 326 fid_get_instances class-\$0;
#X msg 675 454 remove \$1;
#X obj 498 780 list prepend 0;
#X obj 493 823 route 0 1;
#X msg 512 856 \$2 \$1 \$4 \$3;
#X obj 657 732 r \$0-invert_coords;
#X obj 85 44 r touch.add;
#X obj 218 55 r touch.update;
#X obj 351 55 r touch.remove;
#X connect 0 0 40 0;
#X connect 0 1 28 1;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 3 0 7 1;
#X connect 4 0 9 0;
#X connect 4 1 44 0;
#X connect 4 2 31 0;
#X connect 5 0 10 0;
#X connect 5 1 44 0;
#X connect 5 2 31 0;
#X connect 6 0 11 0;
#X connect 6 1 34 0;
#X connect 6 2 31 0;
#X connect 7 0 12 0;
#X connect 8 2 14 0;
#X connect 8 3 14 0;
#X connect 9 0 29 0;
#X connect 10 0 29 0;
#X connect 11 0 29 0;
#X connect 12 0 13 0;
#X connect 13 0 8 0;
#X connect 13 1 15 0;
#X connect 13 2 39 0;
#X connect 14 0 22 0;
#X connect 15 1 17 0;
#X connect 15 2 16 0;
#X connect 15 3 18 0;
#X connect 16 0 22 0;
#X connect 17 0 22 0;
#X connect 18 0 22 0;
#X connect 19 0 22 0;
#X connect 21 0 3 1;
#X connect 21 1 1 0;
#X connect 22 0 26 0;
#X connect 23 0 24 0;
#X connect 23 1 25 0;
#X connect 24 0 20 0;
#X connect 25 0 20 0;
#X connect 26 0 30 0;
#X connect 26 1 27 0;
#X connect 26 2 23 0;
#X connect 27 0 28 0;
#X connect 27 1 28 0;
#X connect 28 0 51 0;
#X connect 29 0 7 0;
#X connect 30 0 32 0;
#X connect 31 0 21 0;
#X connect 31 1 20 1;
#X connect 31 2 38 1;
#X connect 31 3 30 1;
#X connect 32 0 33 0;
#X connect 33 0 35 0;
#X connect 33 2 36 0;
#X connect 34 0 3 0;
#X connect 35 0 37 0;
#X connect 36 0 37 0;
#X connect 39 1 19 0;
#X connect 40 0 2 0;
#X connect 41 0 46 1;
#X connect 41 0 47 1;
#X connect 41 0 48 0;
#X connect 42 0 43 1;
#X connect 43 0 0 0;
#X connect 44 0 43 0;
#X connect 46 0 5 0;
#X connect 47 0 4 0;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 50 0 37 0;
#X connect 51 0 52 0;
#X connect 52 0 38 0;
#X connect 52 1 53 0;
#X connect 53 0 38 0;
#X connect 54 0 51 1;
#X connect 55 0 47 0;
#X connect 56 0 46 0;
#X connect 57 0 6 0;
#X restore 32 145 pd touch_event_listener;
#X obj 376 32 r class-\$0.add;
#X obj 504 34 r class-\$0.remove;
#X obj 162 202 r class-\$0.update;
#X obj 379 126 change;
#X obj 380 146 outlet;
#X obj 51 464 outlet;
#X obj 161 247 fid_get \$0-coords;
#X obj 376 103 fid_count_instances class-\$0;
#X msg 159 296 updateCursor \$3 \$1 \$2;
#X obj 162 225 t f f;
#X obj 159 270 list append;
#X obj 269 319 r \$0-noteout;
#X obj 12 202 r class-\$0.add;
#X obj 360 197 r class-\$0.remove;
#X obj 11 257 fid_get \$0-coords;
#X obj 12 235 t f f;
#X obj 9 280 list append;
#X msg 9 306 addCursor \$3 \$1 \$2;
#X msg 308 269 removeCursor \$1;
#X text 431 292 message format (compatible avec future multi note /
multitouch);
#X obj 51 441 list trim;
#X obj 51 419 list prepend touchEvent 0;
#X msg 263 418 touchEvent \$1;
#X obj 38 68 route add remove listener sid;
#X obj 250 363 +;
#X text 432 406 touchEvent <noteId> addCursor <session_id> <xpos> <ypos>
;
#X text 432 422 touchEvent <noteId> updateCursor <session_id> <xpos>
<ypos>;
#X text 435 439 touchEvent <noteId> removeCursor <session_id>;
#X obj 279 345 r \$0-fidmin;
#X obj 250 385 -;
#X obj 220 113 fid_get fid;
#X connect 0 0 30 0;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 4 0 6 1;
#X connect 5 0 6 1;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 16 0;
#X connect 10 0 11 0;
#X connect 13 0 17 0;
#X connect 14 0 10 0;
#X connect 15 0 28 0;
#X connect 16 0 13 0;
#X connect 16 1 17 1;
#X connect 17 0 15 0;
#X connect 18 0 31 1;
#X connect 19 0 22 0;
#X connect 20 0 25 0;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 22 1 23 1;
#X connect 23 0 24 0;
#X connect 24 0 28 0;
#X connect 25 0 28 0;
#X connect 27 0 12 0;
#X connect 28 0 27 0;
#X connect 29 0 28 1;
#X connect 30 0 4 0;
#X connect 30 1 5 0;
#X connect 30 2 6 0;
#X connect 30 3 37 0;
#X connect 31 0 36 0;
#X connect 35 0 36 1;
#X connect 36 0 29 0;
#X connect 37 0 31 0;
#X restore 68 522 pd touch_event;
#X obj 101 101 cnv 15 188 68 \$0-background \$0-background-rcv data_fidtouch-0 0
7 0 14 -262144 -1 0;
#X obj 383 252 u_parameter \$0 noteout;
#X obj 1120 232 r \$0-noteout;
#X obj 978 296 pack f f;
#X msg 706 309 note \$2 \$1 1;
#X floatatom 159 151 5 0 127 0 note_out #0-noteout-rcv #0-noteout;
#X floatatom 253 132 5 0 1 0 width #0-width-rcv #0-width;
#X floatatom 253 151 5 0 1 0 height #0-height-rcv #0-height;
#X obj 384 214 u_parameter \$0 height;
#X obj 383 233 u_parameter \$0 width;
#X obj 151 372 r \$0-height;
#X obj 59 347 r \$0-width;
#X obj 83 469 route 1;
#X text 156 464 mono instance de fid;
#X obj 969 167 route add remove;
#X msg 938 235 127;
#X msg 1015 191 0;
#X obj 255 100 bng 15 250 50 0 \$0-testnoteout empty test 2 7 0 10
-262144 -1 -1;
#X obj 943 58 r \$0-testnoteout;
#X obj 949 125 makenote 127 200;
#X msg 941 91 1;
#X obj 383 290 u_parameter \$0 fidmax;
#X floatatom 159 113 5 0 0 0 fidmin #0-fidmin-rcv #0-fidmin;
#X floatatom 159 132 5 0 0 0 fidmax #0-fidmax-rcv #0-fidmax;
#X obj 214 305 r \$0-fidmin;
#X obj 318 312 r \$0-fidmax;
#X obj 947 206 t b f;
#X obj 1038 241 -;
#X obj 1070 214 r \$0-fidmin;
#X obj 1046 273 +;
#X obj 969 519 s \$0-nte_out-rcv;
#X obj 227 100 cnv 10 25 15 empty \$0-nte_out-rcv Â°0 1 7 0 12 -191407
-262144 0;
#X msg 1086 478 color 0 0;
#X obj 974 391 route 127;
#X obj 975 412 t b f b;
#X obj 1090 452 delay 150;
#X floatatom 253 113 5 0 0 0 touchCnt - -;
#N canvas 0 50 943 429 mise_en_forme 0;
#X obj 70 422 outlet;
#X msg 237 141 \$1 remove;
#X obj 380 216 fid_get x;
#X obj 446 186 fid_get y;
#X obj 516 234 fid_get alpha;
#X obj 430 154 t f f f f;
#X msg 281 394 \$4 listener rect \$1 \$2 \$5 \$6 \$3;
#X obj 193 260 atan2;
#X obj 195 204 fid_get y;
#X obj 276 205 fid_get x;
#X obj 268 333 int;
#X obj 197 282 + 3.1415;
#X obj 194 311 / 6.283;
#X text 406 31 Arguments;
#X text 547 32 1: nom de la classe;
#X text 547 57 2: largeur;
#X text 548 82 3: hauteur;
#X text 549 104 4: no de preset;
#X text 550 125 5: rotation;
#X text 550 148 6: nb de secteurs;
#X obj 591 -3 inlet (\$2);
#X obj 723 1 inlet (\$3);
#X obj 77 228 pack f f f;
#X obj 61 121 t f f f f f;
#X obj 86 202 fid_get fid;
#X msg 13 292 \$1 add \$3 \, \$1 preset \$2;
#X obj 432 124 r \$0-fid_class.update;
#X obj 235 107 r \$0-fid_class.remove;
#X obj 37 84 r \$0-fid_class.add;
#X obj 352 345 pack f f f f 0.4 0.4;
#X obj 516 273 + 0;
#X obj 780 98 inlet (\$4);
#X obj 797 141 inlet (\$5);
#X obj 846 196 inlet (\$6);
#X obj 242 362 mod 1;
#X obj 218 337 * 1;
#X obj 189 368 + 1;
#X connect 1 0 0 0;
#X connect 2 0 29 0;
#X connect 3 0 29 1;
#X connect 4 0 30 0;
#X connect 5 0 2 0;
#X connect 5 1 3 0;
#X connect 5 2 4 0;
#X connect 5 3 29 3;
#X connect 6 0 0 0;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 7 1;
#X connect 10 0 34 0;
#X connect 11 0 12 0;
#X connect 12 0 35 0;
#X connect 20 0 29 4;
#X connect 21 0 29 5;
#X connect 22 0 25 0;
#X connect 23 0 5 0;
#X connect 23 1 22 0;
#X connect 23 2 24 0;
#X connect 23 3 8 0;
#X connect 23 4 9 0;
#X connect 24 0 22 2;
#X connect 25 0 0 0;
#X connect 26 0 5 0;
#X connect 27 0 1 0;
#X connect 28 0 23 0;
#X connect 29 0 6 0;
#X connect 30 0 29 2;
#X connect 31 0 36 1;
#X connect 32 0 30 1;
#X connect 33 0 34 1;
#X connect 33 0 35 1;
#X connect 34 0 36 0;
#X connect 35 0 10 0;
#X connect 36 0 22 1;
#X restore 87 414 pd mise_en_forme;
#X obj 383 271 u_parameter \$0 fidmin;
#X text 189 508 Pour passer en multi instances \, il faut que height
et width soient distincts pour chaque fid;
#X obj 85 439 fid_multiplex 1;
#X msg 970 458 label Â°\$1;
#X msg 990 480 color 19 -1;
#X obj 19 220 inlet~;
#X obj 19 248 outlet~;
#X obj 79 220 inlet~;
#X obj 79 248 outlet~;
#X obj 155 213 inlet data;
#X obj 155 235 outlet data;
#X obj 384 195 module_loader data_fidtouch \$0 \$1;
#X obj 174 345 fid_abs_vanilia-0.4/fid_class \$0-fid_class;
#X obj 1231 279 namecanvas \$0-this;
#X obj 1229 256 triggered_loadbang \$0-this;
#X text 1224 206 manually trigger loadbang if the instance of abstraction
is created dynamically, f 29;
#X obj 558 143 savestate;
#X obj 1081 17 declare -path ../../core;
#X obj 1081 37 declare -path ../../core/stuff;
#X obj 1081 57 declare -path ../../core/rj;
#X obj 1083 82 declare -path ../../core/fid_abs_vanilia-0.4;
#X connect 1 0 2 0;
#X connect 10 0 62 0;
#X connect 11 0 2 0;
#X connect 11 1 48 0;
#X connect 13 0 50 0;
#X connect 14 0 41 1;
#X connect 15 0 16 0;
#X connect 15 0 45 0;
#X connect 16 0 2 0;
#X connect 20 0 21 0;
#X connect 21 0 13 0;
#X connect 22 0 49 1;
#X connect 23 0 49 0;
#X connect 24 0 11 0;
#X connect 24 0 26 0;
#X connect 26 0 38 0;
#X connect 26 1 28 0;
#X connect 27 0 15 0;
#X connect 28 0 15 0;
#X connect 30 0 32 0;
#X connect 31 1 15 0;
#X connect 32 0 31 0;
#X connect 36 0 62 1;
#X connect 37 0 62 2;
#X connect 38 0 27 0;
#X connect 38 1 39 0;
#X connect 39 0 41 0;
#X connect 40 0 39 1;
#X connect 41 0 15 1;
#X connect 44 0 42 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 46 1 53 0;
#X connect 46 2 54 0;
#X connect 47 0 44 0;
#X connect 49 0 52 0;
#X connect 50 0 33 0;
#X connect 52 0 24 0;
#X connect 53 0 42 0;
#X connect 54 0 42 0;
#X connect 55 0 56 0;
#X connect 57 0 58 0;
#X connect 59 0 60 0;
#X connect 59 0 61 0;
#X connect 61 0 20 0;
#X connect 61 1 66 0;
#X connect 66 0 61 1;
#X connect 66 1 61 2;
#X coords 0 -1 1 1 190 70 1 100 100;
