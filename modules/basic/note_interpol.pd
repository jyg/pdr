#N struct 1033-symarray float x array symbols 1033-sym;
#N struct 1033-sym symbol name float on;
#N canvas 393 82 1074 641 10;
#X declare -path ../../core;
#X declare -path ../../core/stuff;
#X declare -path ../../core/rj;
#N canvas 172 83 586 377 LICENSE-GPL 0;
#X text 57 88 This program is free software: you can redistribute it
and/or modify it under the terms of the GNU General Public License
as published by the Free Software Foundation \, either version 3 of
the License \, or (at your option) any later version.;
#X text 58 168 This program is distributed in the hope that it will
be useful \, but WITHOUT ANY WARRANTY \; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
General Public License for more details.;
#X text 57 261 You should have received a copy of the GNU General Public
License along with this program. If not \, see <http://www.gnu.org/licenses/>.
;
#X text 61 54 Copyright (C) 2009 \, Reality Jockey Ltd.;
#X text 60 325 See the file LICENSE.txt for the full license text.
;
#X restore 298 15 pd LICENSE-GPL;
#X obj 101 101 cnv 15 188 68 \$0-background \$0-background-rcv note_interpol-0
0 7 0 13 -262144 -1 0;
#X obj 325 214 inlet~;
#X obj 407 213 inlet~;
#X obj 324 233 outlet~;
#X obj 408 232 outlet~;
#X obj 640 81 inlet data;
#X obj 519 347 outlet data;
#X obj 640 102 route note;
#X obj 219 150 tgl 15 0 \$0-direct \$0-direct-rcv direct 17 7 0 10
-262144 -1 -1 0 1;
#X obj 643 389 u_parameter \$0 direct;
#X obj 517 225 spigot;
#X obj 553 194 r \$0-direct;
#X msg 515 322 note \$1 \$2;
#X text 458 61 todo : écrire un registre \, dans lequel sont mémorisées
les notes entrantes;
#X obj 176 39 namecanvas \$0-multitab;
#X obj 308 79 hradio 15 1 0 3 \$0-guitab \$0-guitab-rcv empty 0 -8
0 10 -191407 -1 -1 0;
#X obj 634 350 module_loader note_interpol \$0 \$1;
#X obj 101 201 cnv 15 188 68 \$0-background \$0-background-rcv note_interpol-0
0 7 0 13 -262144 -1 0;
#X obj 211 200 hradio 15 1 0 3 \$0-guitab \$0-guitab-rcv empty 0 -8
0 10 -191407 -1 -1 0;
#X floatatom 143 118 10 0 127 0 pivot #0-pivot-rcv #0-pivot;
#X symbolatom 171 118 6 0 0 0 - #0-pivot_display-rcv -;
#N canvas 838 102 450 370 pivot_midi2notename 0;
#N canvas 473 338 450 300 count 0;
#X obj 131 154 f 0;
#X obj 156 153 + 1;
#X msg 147 133 0;
#X obj 131 183 outlet;
#X obj 131 59 inlet;
#X obj 131 96 b;
#X obj 178 61 inlet;
#X obj 178 98 b;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 0 1;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X restore 330 149 pd count;
#X msg 249 99 c \, c# \, d \, d# \, e \, f \, f# \, g \, g# \, a \,
a# \, b;
#X obj 249 124 t a b;
#X obj 249 173 list prepend;
#X msg 173 173 reset;
#X obj 249 74 t b b b;
#X text -2 92 Notes example:;
#X msg 114 174 print;
#X msg 114 149 dump;
#X obj 161 198 m_symbolarray;
#X obj 252 47 loadbang;
#X obj 165 93 mod 12;
#X obj 229 43 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 166 57 t f f;
#X obj 159 227 list append;
#X obj 166 34 - 24;
#X floatatom 177 145 5 0 0 0 - - -;
#X obj 188 122 div 12;
#X obj 171 6 t f f;
#X obj 164 251 list append;
#X obj 51 50 route set;
#X msg 150 293 symbol (\$1\$2);
#X obj 37 27 r \$0-pivot-rcv;
#X obj 152 322 s \$0-pivot_display-rcv;
#X connect 0 0 3 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 0 0;
#X connect 3 0 9 1;
#X connect 4 0 9 0;
#X connect 5 0 1 0;
#X connect 5 1 4 0;
#X connect 5 2 0 1;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 10 0 5 0;
#X connect 11 0 9 0;
#X connect 12 0 5 0;
#X connect 13 0 11 0;
#X connect 13 1 17 0;
#X connect 14 0 19 0;
#X connect 15 0 13 0;
#X connect 17 0 16 0;
#X connect 17 0 14 1;
#X connect 18 0 15 0;
#X connect 18 1 19 1;
#X connect 19 0 21 0;
#X connect 20 0 18 0;
#X connect 21 0 23 0;
#X connect 22 0 20 0;
#X restore 598 593 pd pivot_midi2notename;
#X obj 647 419 u_parameter \$0 pivot;
#X floatatom 177 132 5 -4 4 0 scaling #0-scaling-rcv #0-scaling;
#X obj 647 459 u_parameter \$0 scaling;
#X floatatom 177 146 5 -48 48 0 transpose #0-transpose-rcv #0-transpose
;
#X obj 651 484 u_parameter \$0 transpose;
#X floatatom 119 219 5 0 0 1 remaining #0-fifo_remain-rcv -;
#X obj 679 149 list prepend 0;
#X floatatom 221 219 5 1 200 1 Depth #0-fifo_depth-rcv #0-fifo_depth
;
#X obj 213 235 bng 15 250 50 0 \$0-show_fifo empty show_fifo 17 7 0
10 -262144 -1 -1;
#X obj 208 251 bng 15 250 50 0 \$0-clear_fifo empty clear_fifo 17 7
0 10 -262144 -1 -1;
#X obj 117 250 bng 15 250 50 0 \$0-fifo_pop_next empty fifo_pop_next
17 7 0 10 -262144 -1 -1;
#N canvas 0 50 450 300 pivot 0;
#X obj 164 25 inlet;
#X obj 162 276 outlet;
#X obj 161 64 unpack f f;
#X obj 279 92 r \$0-pivot;
#X obj 161 126 -;
#X obj 161 148 *;
#X obj 279 123 r \$0-scaling;
#X obj 161 170 +;
#X obj 161 190 +;
#X obj 281 173 r \$0-transpose;
#X obj 300 208 r \$0-delay;
#X obj 174 218 pipe f f 0;
#X obj 175 246 pack f f;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 11 1;
#X connect 3 0 4 1;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 11 2;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 1 0;
#X restore 679 309 pd pivot;
#X obj 757 201 r \$0-fifo_depth;
#X obj 651 526 u_parameter \$0 fifo_depth;
#N canvas 0 57 1920 1023 fifo_delaying 0;
#X obj 610 47 inlet;
#X obj 164 385 outlet;
#X obj 122 249 makenote;
#X obj 116 283 pack f f;
#X obj 200 296 select 0;
#X obj 610 77 list split 1;
#X obj 244 350 delay;
#X obj 118 124 unpack f f f f;
#X obj 210 168 / 2;
#X obj 180 171 / 2;
#X obj 202 19 t l l;
#X obj 274 74 unpack f f;
#X obj 381 99 select 0;
#X obj 393 174 f;
#X obj 440 310 select 0;
#X floatatom 213 100 5 0 0 0 - - -;
#X obj 400 134 t b;
#X obj 659 149 pack f f;
#X obj 638 117 poly 1 1;
#X obj 32 12 r \$0-fifo_pop_next;
#X msg 352 122 0, f 4;
#X obj 386 47 r \$0-clear_fifo;
#X obj 584 286 change;
#X obj 668 381 s \$0-clear_fifo;
#N canvas 0 50 450 300 make_pattern 0;
#X obj 103 53 inlet;
#X obj 103 75 outlet;
#X connect 0 0 1 0;
#X restore 519 388 pd make_pattern;
#X obj 444 502 list split 1;
#X obj 311 482 list append;
#X obj 550 538 f;
#X obj 530 569 until;
#X msg 529 599 delete 0;
#X floatatom 419 545 5 0 0 0 - - -;
#X obj 584 308 t b f b;
#N canvas 363 50 786 579 fifo 0;
#X msg 402 439 1e+06;
#X msg 190 106 \$2 \$1;
#X obj 386 415 loadbang;
#X obj 200 10 inlet;
#X obj 36 3 inlet;
#X obj 39 443 outlet;
#X obj 308 550 outlet;
#X obj 19 75 t b;
#X msg 310 77 clear;
#X msg 479 101 click;
#X obj 27 276 > 0;
#X obj 27 298 select 1;
#X obj 395 172 t b b l b b;
#X obj 369 44 route float;
#X msg 34 329 0;
#X obj 421 551 s \$0-fifo_remain-rcv;
#X obj 556 3 r \$0-clear_fifo;
#X obj 431 5 r \$0-show_fifo;
#X obj 16 37 route bang clear show delete;
#X obj 320 516 t f f;
#X obj 316 442 t b l;
#X obj 103 73 t b b;
#X obj 168 322 t b f;
#X obj 32 356 t b f f;
#X obj 319 188 route 0;
#X obj 454 322 timer;
#X obj 375 371 list prepend;
#X obj 332 213 t b b;
#X obj 363 292 timer;
#X text 314 298 silence;
#X obj 374 345 list prepend;
#X obj 343 264 t l b b b;
#X msg 421 220 \$2 \$1;
#X text 496 294 duration;
#X obj 306 126 text define \$0-fifo2;
#X obj 569 149 text size \$0-fifo2;
#X obj 7 244 text size \$0-fifo2;
#X obj 32 391 text delete \$0-fifo2;
#X obj 39 421 text get \$0-fifo2;
#X obj 351 465 text set \$0-fifo2;
#X obj 320 494 text size \$0-fifo2;
#X obj 376 69 text get \$0-fifo2;
#X obj 543 435 == 0;
#X obj 543 457 change;
#X obj 543 479 select 1 0;
#X obj 319 326 moses 2000;
#X msg 631 389 2000;
#X msg 582 386 500;
#X connect 0 0 39 1;
#X connect 1 0 24 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 18 0;
#X connect 7 0 36 0;
#X connect 8 0 34 0;
#X connect 9 0 34 0;
#X connect 10 0 11 0;
#X connect 11 0 14 0;
#X connect 13 0 41 0;
#X connect 14 0 23 0;
#X connect 16 0 21 0;
#X connect 17 0 9 0;
#X connect 18 0 7 0;
#X connect 18 1 21 0;
#X connect 18 2 9 0;
#X connect 18 3 22 0;
#X connect 18 4 13 0;
#X connect 19 0 6 0;
#X connect 19 1 15 0;
#X connect 19 1 42 0;
#X connect 20 0 40 0;
#X connect 20 1 39 0;
#X connect 21 0 40 0;
#X connect 21 1 8 0;
#X connect 22 0 40 0;
#X connect 22 1 37 0;
#X connect 23 0 40 0;
#X connect 23 1 37 0;
#X connect 23 2 38 0;
#X connect 24 0 27 0;
#X connect 24 1 32 0;
#X connect 25 0 30 1;
#X connect 26 0 20 0;
#X connect 27 0 25 1;
#X connect 27 1 28 0;
#X connect 28 0 45 0;
#X connect 30 0 26 0;
#X connect 31 0 26 1;
#X connect 31 2 28 1;
#X connect 31 3 25 0;
#X connect 32 0 31 0;
#X connect 36 0 10 0;
#X connect 38 0 5 0;
#X connect 40 0 19 0;
#X connect 41 0 5 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 44 0 47 0;
#X connect 44 0 46 0;
#X connect 45 0 30 0;
#X connect 46 0 45 1;
#X connect 47 0 45 1;
#X restore 129 67 pd fifo;
#X obj 71 57 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 94 151 5 0 0 0 - - -;
#X floatatom 56 204 5 0 0 0 - - -;
#X floatatom 296 170 5 0 0 0 - - -;
#X floatatom 292 194 5 0 0 0 - - -;
#X obj 245 375 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 42 155 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 466 353 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 324 443 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 416 354 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 299 561 list prepend set;
#X obj 299 583 list trim;
#X msg 299 605 4 3 2 1 0;
#X obj 521 538 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 550 506 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 490 232 mod 8;
#X obj 411 223 moses 1;
#X msg 502 430 0 1 2 3 0 1 2 3 4 5 6 7 4 5 6 7;
#X obj 439 465 list append 0 1 2 3 4 5 6 7 7 6 5 4 3 2 1 0;
#X obj 746 187 s \$0-clear_fifo;
#X obj 754 128 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 605 550 t b f;
#X obj 295 248 max 1;
#N canvas 0 50 450 300 sequencer 0;
#X obj 188 59 inlet;
#N canvas 375 58 988 579 sequencer 0;
#X msg 269 312 1e+06;
#X obj 39 501 text get \$0-fifo;
#X obj 253 288 loadbang;
#X obj 56 4 inlet;
#X obj 55 446 t f f b;
#X msg 568 55 clear;
#X msg 510 54 click;
#X obj 27 356 > 0;
#X obj 27 378 select 1;
#X msg 34 409 0;
#X obj 431 5 r \$0-show_seq;
#X obj 556 3 r \$0-clear_seq;
#X obj 185 561 text get \$0-seq;
#X obj 573 93 text define \$0-seq;
#X obj 7 324 text size \$0-seq;
#X obj 218 338 text set \$0-seq;
#X obj 56 75 pack f f f;
#X obj 56 53 poly 8 1;
#X obj 51 175 list split 1;
#X text 572 180 note vel duration start_time stop_time;
#X obj 51 153 clone -s 1 note_seq/note_seq_cell 8 \$0;
#N canvas 0 50 450 300 horodatage 0;
#X obj 368 186 timer;
#X obj 401 156 t b s;
#X obj 404 219 s;
#X obj 402 125 r \$0-timer;
#X obj 271 48 r BPM;
#X floatatom 271 70 5 0 0 0 - - -;
#X msg 338 76 tempo \$1 permin;
#X obj 292 112 r SYNC_PLAY;
#X obj 339 18 loadbang;
#X msg 339 40 120;
#X text 384 259 horodatage;
#X obj 182 108 s BPM;
#X obj 315 172 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 186 80 120;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 1 1 2 1;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 0 6 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 12 0 0 0;
#X connect 13 0 11 0;
#X restore 515 321 pd horodatage;
#X obj 56 27 route list;
#X obj 430 420 text sequence \$0-seq;
#X obj 430 442 outlet;
#X connect 0 0 15 1;
#X connect 2 0 0 0;
#X connect 3 0 22 0;
#X connect 4 1 1 0;
#X connect 5 0 13 0;
#X connect 6 0 13 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 10 0 6 0;
#X connect 11 0 5 0;
#X connect 14 0 7 0;
#X connect 16 0 20 0;
#X connect 17 0 16 0;
#X connect 17 1 16 1;
#X connect 17 2 16 2;
#X connect 18 1 15 0;
#X connect 20 0 18 0;
#X connect 22 0 17 0;
#X connect 22 1 23 0;
#X connect 23 0 24 0;
#X restore 151 209 pd sequencer;
#X connect 0 0 1 0;
#X restore 790 45 pd sequencer;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 2 1 4 0;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 5 0 22 0;
#X connect 5 0 48 1;
#X connect 5 1 18 0;
#X connect 6 0 26 0;
#X connect 6 0 38 0;
#X connect 7 0 2 0;
#X connect 7 0 34 0;
#X connect 7 0 39 0;
#X connect 7 1 2 1;
#X connect 7 1 35 0;
#X connect 7 2 9 0;
#X connect 7 3 8 0;
#X connect 8 0 37 0;
#X connect 8 0 55 0;
#X connect 9 0 2 2;
#X connect 9 0 36 0;
#X connect 10 0 11 0;
#X connect 10 1 32 1;
#X connect 11 1 12 0;
#X connect 12 1 16 0;
#X connect 13 0 49 0;
#X connect 14 0 40 0;
#X connect 14 0 51 0;
#X connect 16 0 13 0;
#X connect 17 0 10 0;
#X connect 18 1 17 0;
#X connect 18 2 17 1;
#X connect 19 0 32 0;
#X connect 20 0 13 1;
#X connect 21 0 20 0;
#X connect 22 0 31 0;
#X connect 24 0 50 0;
#X connect 25 0 30 0;
#X connect 25 0 32 0;
#X connect 25 1 26 1;
#X connect 25 1 43 0;
#X connect 25 2 27 0;
#X connect 25 2 46 0;
#X connect 26 0 25 0;
#X connect 27 0 54 0;
#X connect 28 0 29 0;
#X connect 29 0 32 0;
#X connect 31 0 24 0;
#X connect 31 1 27 1;
#X connect 31 2 23 0;
#X connect 32 0 7 0;
#X connect 32 1 15 0;
#X connect 32 1 13 1;
#X connect 33 0 32 0;
#X connect 41 0 26 0;
#X connect 42 0 51 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 47 0 27 0;
#X connect 48 0 14 0;
#X connect 49 1 48 0;
#X connect 50 0 51 1;
#X connect 51 0 25 0;
#X connect 53 0 52 0;
#X connect 54 0 51 0;
#X connect 54 1 28 0;
#X connect 55 0 6 1;
#X restore 683 278 pd fifo_delaying;
#X obj 921 239 namecanvas \$0-this;
#X obj 919 216 triggered_loadbang \$0-this;
#X text 914 166 manually trigger loadbang if the instance of abstraction
is created dynamically, f 29;
#X obj 813 318 savestate;
#X obj 220 62 ui_multitab \$0;
#X obj 714 -2 declare -path ../../core;
#X obj 714 18 declare -path ../../core/stuff;
#X obj 714 38 declare -path ../../core/rj;
#X floatatom 229 130 5 0 0 2 delay(ms) #0-delay-rcv #0-delay;
#X obj 651 548 u_parameter \$0 delay;
#X obj 101 301 cnv 15 188 68 \$0-background \$0-background-rcv note_interpol-0
0 7 0 13 -262144 -1 0;
#X obj 211 300 hradio 15 1 0 3 \$0-guitab \$0-guitab-rcv empty 0 -8
0 10 -191407 -1 -1 0;
#X obj 690 229 list prepend;
#X obj 763 89 r \$0-mode;
#X obj 654 567 u_parameter \$0 mode;
#X obj 103 322 vradio 15 1 0 3 \$0-mode \$0-mode-rcv empty 0 -8 0 10
-262130 -1 -1 0;
#X obj 97 220 vradio 15 1 0 3 \$0-mode \$0-mode-rcv empty 0 -8 0 10
-262130 -1 -1 0;
#X text 113 233 -> FIFO;
#X obj 679 171 route 0 1 2;
#X text 121 351 -> REPEAT;
#X obj 959 316 poly 8 1;
#X obj 917 349 pack f f f;
#X obj 860 394 clone -s 1 8 note_interpol/note_cell \$0;
#X obj 860 417 list split 1;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 6 0 8 0;
#X connect 8 0 11 0;
#X connect 8 0 29 0;
#X connect 8 1 7 0;
#X connect 10 0 23 0;
#X connect 11 0 13 0;
#X connect 12 0 11 1;
#X connect 13 0 7 0;
#X connect 17 0 10 0;
#X connect 17 1 41 0;
#X connect 23 0 25 0;
#X connect 25 0 27 0;
#X connect 27 0 36 0;
#X connect 29 0 56 0;
#X connect 34 0 13 0;
#X connect 35 0 50 1;
#X connect 36 0 47 0;
#X connect 37 0 34 0;
#X connect 41 0 17 1;
#X connect 41 1 17 2;
#X connect 47 0 52 0;
#X connect 50 0 37 0;
#X connect 51 0 29 1;
#X connect 56 0 34 0;
#X connect 56 1 50 0;
#X connect 56 2 58 0;
#X connect 58 0 59 0;
#X connect 58 1 59 1;
#X connect 58 2 59 2;
#X connect 59 0 60 0;
#X connect 60 0 61 0;
#X connect 61 1 34 0;
#X coords 0 0 190 70 190 70 2 100 100;
