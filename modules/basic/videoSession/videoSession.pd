#N canvas 146 79 1079 590 12;
#X declare -stdlib extra/Gem/gem;
#X declare -path stuff;
#X declare -stdlib extra/cvlib/cvlib93;
#X declare -stdpath extra/iemmatrix;
#X declare -stdpath extra/rj_dj;
#X obj 679 49 declare -stdlib extra/Gem/gem;
#X obj 682 21 declare -path stuff;
#N canvas 721 142 611 411 gemwin 0;
#X obj 76 197 gemwin;
#X obj 94 143 t b b;
#X msg 89 97 reset \, dimen 800 600 \, fullscreen 0 \, border 0 \,
create \, 1;
#X msg 79 117 reset \, dimen 1024 768 \, fullscreen 1 \, create \,
1;
#X msg 200 43 reset \, offset 800 400 \, dimen 400 300 \, fullscreen
0 \, border 0 \, create \, 1;
#X obj 55 34 inlet;
#X msg 183 181 reset \, border 1 \, dimen 640 480 \, create \, 1;
#X obj 47 69 select 2 1 0 3 4 5;
#X msg 160 253 reset \, offset 1366 0 \, dimen 1280 768 \, fullscreen
0 \, border 0 \, create \, 1;
#X msg 99 173 0 \, destroy;
#X obj 39 237 r gemwin;
#X connect 1 1 9 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 7 0 3 0;
#X connect 7 1 2 0;
#X connect 7 2 1 0;
#X connect 7 3 4 0;
#X connect 7 4 6 0;
#X connect 7 5 8 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
#X restore 511 74 pd gemwin;
#X msg 515 18 3;
#X msg 528 44 0;
#X obj 114 320 pix_texture;
#X obj 51 17 gemhead;
#X obj 679 79 declare -stdlib extra/cvlib/cvlib93;
#X text 213 -9 lancer d'abord KinectTouch2;
#X text 210 26 C://Users/jyg/Desktop/Projets/2016/Robosonik/KinectTouch
;
#X obj 333 101 gemkeyboard;
#X obj 334 132 select 32;
#X obj 335 161 list prepend send TRANSPORT spacebar;
#X obj 338 192 s TO_AUDIO_SESSION;
#N canvas 324 122 792 353 upic 0;
#X obj 28 37 inlet;
#X obj 73 58 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 117 60 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 192 32 1;
#X msg 222 58 0;
#N canvas 326 50 1132 622 upic_stuff 0;
#X obj 300 248 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 288 275 1;
#X msg 288 298 0;
#X obj 400 625 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 528 50 845 645 drawing(GEM) 0;
#X obj 163 254 gemhead;
#X obj 177 301 GEMglLoadIdentity;
#X obj 243 125 unpack f f f;
#X msg 97 199 0;
#X obj 41 173 loadbang;
#X obj 184 352 color 0 0 0;
#X obj 460 332 gemhead;
#X obj 417 451 curve 2;
#X obj 461 368 color 1 0 0;
#X msg 468 400 \$1 -4 0;
#X obj 157 480 circle 0.05;
#X obj 272 87 inlet scan_values;
#X msg 483 426 \$1 4 0;
#X obj 304 346 change;
#X obj 175 157 select 1 0;
#X obj 184 205 t b b;
#X msg 244 257 1 0 0;
#X obj 242 195 t b b;
#X msg 255 227 0 0 0.8;
#X msg 268 485 0.01;
#X msg 285 518 0.05;
#X obj 306 270 expr $f1*10.666-5.333 \; $f2*8-4;
#X floatatom 339 396 5 0 0 0 - - -, f 5;
#X obj 574 241 r gemwin;
#X obj 574 266 route view;
#X obj 574 291 unpack f f f;
#X obj 674 327 * -1;
#X obj 167 448 translateXYZ 0 0 -4;
#X obj 167 423 translateXYZ 0 0 0;
#X obj 564 327 * -1;
#X obj 624 327 * -1;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 14 0;
#X connect 2 1 21 0;
#X connect 2 2 21 1;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 28 0;
#X connect 6 0 8 0;
#X connect 8 0 7 0;
#X connect 9 0 7 1;
#X connect 11 0 2 0;
#X connect 12 0 7 2;
#X connect 13 0 9 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 14 1 17 0;
#X connect 15 0 0 0;
#X connect 15 1 16 0;
#X connect 15 1 20 0;
#X connect 16 0 5 1;
#X connect 17 0 0 0;
#X connect 17 1 18 0;
#X connect 17 1 19 0;
#X connect 18 0 5 1;
#X connect 19 0 10 1;
#X connect 20 0 10 1;
#X connect 21 0 13 0;
#X connect 21 0 28 1;
#X connect 21 1 28 2;
#X connect 22 0 27 3;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 29 0;
#X connect 25 1 30 0;
#X connect 25 2 26 0;
#X connect 26 0 22 0;
#X connect 27 0 10 0;
#X connect 28 0 27 0;
#X connect 29 0 27 1;
#X connect 30 0 27 2;
#X restore 120 516 pd drawing(GEM);
#X obj 407 181 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X msg 412 210 index \$1;
#X text 242 479 outlet2 : <numero_note> <value(0/64)>;
#X msg 310 362 point 30 40 300 40 30 200 300 200;
#X text 242 398 argument 1 : finesse de r√©solution verticale;
#X text 239 417 argument 2 : etendue en demi-tons (autour de valeur
centrale 0), f 65;
#X text 246 459 outlet1 : <etat> <coordonnÈes x y du point scannÈ>
;
#X obj 147 176 loadbang;
#X obj 35 7 inlet;
#X obj 164 593 outlet noteout;
#X text 317 340 Pour recadrer le scan sur une partie de l'image;
#X text 239 437 argument 3 : seuil auto (adaptive threshold), f 65
;
#N canvas 0 50 701 300 draw_active_area 0;
#X obj 132 205 pack f f;
#X msg 124 231 \$1 \$2 0;
#X obj 234 204 pack f f;
#X msg 226 230 \$1 \$2 0;
#X obj 330 202 pack f f;
#X msg 322 228 \$1 \$2 0;
#X obj 432 201 pack f f;
#X msg 424 227 \$1 \$2 0;
#X obj 191 65 unpack f f f f f f f f;
#X obj 96 260 curve 2;
#X obj 97 281 curve 2;
#X obj 97 301 curve 2;
#X obj 98 323 curve 2;
#X obj 392 111 expr $f1*8-4 \; $f2*8-4;
#X obj 530 112 expr $f1*8-4 \; $f2*8-4;
#X obj 193 19 inlet;
#X msg 62 218 width 2;
#X obj 43 114 loadbang;
#X obj 80 66 color 0 0.4 0.6;
#X obj 284 19 inlet;
#X obj 296 113 expr $f1*8-4 \; $f2*8-4;
#X obj 127 103 expr $f1*8-4 \; $f2*8-4;
#X obj 138 161 * 1;
#X obj 278 161 * 1;
#X obj 372 172 * 1;
#X obj 478 161 * 1;
#X obj 536 29 loadbang;
#X msg 555 75 1.33333;
#X obj 76 2 r GEM;
#X obj 76 34 spigot;
#X connect 0 0 1 0;
#X connect 1 0 9 1;
#X connect 1 0 12 2;
#X connect 2 0 3 0;
#X connect 3 0 9 2;
#X connect 3 0 10 1;
#X connect 4 0 5 0;
#X connect 5 0 10 2;
#X connect 5 0 11 1;
#X connect 6 0 7 0;
#X connect 7 0 11 2;
#X connect 7 0 12 1;
#X connect 8 0 21 0;
#X connect 8 1 21 1;
#X connect 8 2 20 0;
#X connect 8 3 20 1;
#X connect 8 4 13 0;
#X connect 8 5 13 1;
#X connect 8 6 14 0;
#X connect 8 7 14 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 24 0;
#X connect 13 1 4 1;
#X connect 14 0 25 0;
#X connect 14 1 6 1;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 16 0 10 0;
#X connect 16 0 11 0;
#X connect 16 0 12 0;
#X connect 17 0 16 0;
#X connect 18 0 9 0;
#X connect 19 0 29 1;
#X connect 20 0 23 0;
#X connect 20 1 2 1;
#X connect 21 0 22 0;
#X connect 21 1 0 1;
#X connect 22 0 0 0;
#X connect 23 0 2 0;
#X connect 24 0 4 0;
#X connect 25 0 6 0;
#X connect 26 0 27 0;
#X connect 27 0 25 1;
#X connect 27 0 24 1;
#X connect 27 0 23 1;
#X connect 27 0 22 1;
#X connect 28 0 29 0;
#X connect 29 0 18 0;
#X restore 621 310 pd draw_active_area;
#N canvas 467 58 773 633 get4points 0;
#X obj 227 39 gemmouse 1 1;
#X obj 4 320 f;
#X obj 35 320 + 1;
#X obj 88 214 spigot;
#X msg 190 176 1;
#X obj 147 278 list append;
#X obj 227 106 pack f f;
#X obj 67 259 t b b;
#X obj 165 360 list;
#X obj 147 315 list prepend;
#X obj 92 176 select 1;
#X obj -2 358 select 3;
#X msg -2 386 0;
#X obj 103 400 list append;
#X obj 103 422 outlet;
#X obj 84 347 < 3;
#X obj 435 230 loadbang;
#X msg 441 257 0;
#X msg 493 308 text waiting for point \$1;
#X msg 84 292 -1;
#X obj 240 86 expr 1-$f1;
#X obj 424 282 gemhead 52;
#X obj 421 305 color 0 1 0;
#X obj 45 65 inlet;
#X obj 421 411 translateXYZ 0 0 0.01;
#X obj 294 430 outlet;
#X obj 561 51 loadbang;
#X msg 562 166 font stuff/vera.ttf;
#X obj 557 369 scale 0.4;
#X obj 421 441 text3d;
#X obj 561 76 delay 10;
#X connect 0 0 6 0;
#X connect 0 1 20 0;
#X connect 0 2 10 0;
#X connect 1 0 2 0;
#X connect 1 0 11 0;
#X connect 1 0 15 0;
#X connect 2 0 1 1;
#X connect 2 0 18 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 4 0 21 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 7 0 1 0;
#X connect 7 1 5 0;
#X connect 8 0 9 1;
#X connect 8 0 13 1;
#X connect 8 0 25 0;
#X connect 9 0 8 0;
#X connect 10 0 3 0;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 3 1;
#X connect 13 0 14 0;
#X connect 15 0 21 0;
#X connect 16 0 17 0;
#X connect 17 0 21 0;
#X connect 18 0 29 0;
#X connect 19 0 2 0;
#X connect 20 0 6 1;
#X connect 21 0 22 0;
#X connect 22 0 28 0;
#X connect 23 0 4 0;
#X connect 23 0 8 0;
#X connect 23 0 19 0;
#X connect 24 0 29 0;
#X connect 26 0 30 0;
#X connect 27 0 29 0;
#X connect 28 0 24 0;
#X connect 30 0 27 0;
#X restore 617 215 pd get4points;
#N canvas 0 50 450 300 save_current_state 0;
#X obj 68 55 inlet;
#X obj 66 146 outlet;
#X obj 182 32 loadbang;
#X msg 67 123 0.823438 0.266667 0.257813 0.175 0.248437 0.670833 0.739062
0.720833;
#X obj 67 76 list prepend set;
#X obj 68 98 list trim;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X restore 635 256 pd save_current_state;
#X obj 542 198 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 793 315 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 0 50 702 300 conversion 0;
#X obj 200 7 inlet;
#X obj 200 242 outlet;
#X obj 198 58 unpack f f f f f f f f;
#X obj 169 123 *;
#X obj 209 123 *;
#X obj 239 123 *;
#X obj 279 123 *;
#X obj 319 123 *;
#X obj 359 123 *;
#X obj 389 123 *;
#X obj 429 123 *;
#X obj 198 188 pack f f f f f f f f;
#X obj 375 22 inlet width;
#X obj 540 27 inlet height;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 2 2 5 0;
#X connect 2 3 6 0;
#X connect 2 4 7 0;
#X connect 2 5 8 0;
#X connect 2 6 9 0;
#X connect 2 7 10 0;
#X connect 3 0 11 0;
#X connect 4 0 11 1;
#X connect 5 0 11 2;
#X connect 6 0 11 3;
#X connect 7 0 11 4;
#X connect 8 0 11 5;
#X connect 9 0 11 6;
#X connect 10 0 11 7;
#X connect 11 0 1 0;
#X connect 12 0 3 1;
#X connect 12 0 5 1;
#X connect 12 0 7 1;
#X connect 12 0 9 1;
#X connect 13 0 4 1;
#X connect 13 0 6 1;
#X connect 13 0 8 1;
#X connect 13 0 10 1;
#X restore 475 267 pd conversion;
#X msg 381 317 point \$7 \$8 \$5 \$6 \$1 \$2 \$3 \$4;
#X obj 632 163 inlet;
#X text 321 299 pause;
#X text 325 272 start/resume;
#X obj 608 106 gemkeyboard;
#X obj 608 132 select 67 27;
#X msg 730 144 0;
#X msg 148 200 duration 15;
#X obj 863 49 inlet points;
#X obj 821 153 t a a a;
#X obj 882 285 outlet calibration_points;
#X obj 341 17 r WIDTH;
#X obj 351 47 r HEIGHT;
#X obj 819 339 r UPIC;
#X obj 814 363 route float;
#X obj 120 405 upic2 200 48 1;
#X connect 0 0 38 0;
#X connect 1 0 38 0;
#X connect 2 0 38 0;
#X connect 5 0 6 0;
#X connect 6 0 38 0;
#X connect 8 0 38 0;
#X connect 12 0 30 0;
#X connect 13 0 38 0;
#X connect 18 0 17 0;
#X connect 18 0 19 0;
#X connect 18 0 22 0;
#X connect 18 0 33 0;
#X connect 18 1 17 0;
#X connect 19 0 17 0;
#X connect 20 0 18 0;
#X connect 21 0 17 1;
#X connect 22 0 23 0;
#X connect 23 0 38 0;
#X connect 24 0 18 0;
#X connect 27 0 28 0;
#X connect 28 0 18 0;
#X connect 28 1 29 0;
#X connect 30 0 38 0;
#X connect 31 0 32 0;
#X connect 32 0 22 0;
#X connect 32 1 17 0;
#X connect 32 2 19 0;
#X connect 34 0 22 1;
#X connect 35 0 22 2;
#X connect 36 0 37 0;
#X connect 37 0 21 0;
#X connect 38 0 4 0;
#X connect 38 1 14 0;
#X restore 57 175 pd upic_stuff;
#X obj 51 244 list prepend send UPIC note;
#X obj 66 113 spigot;
#X obj 172 139 t b;
#X obj 150 208 list prepend send UPIC calibration_points;
#X obj 272 18 r UPIC;
#X obj 51 267 s TO_AUDIO_SESSION;
#X msg 390 141 index \$1;
#X obj 276 44 route float get_calibration_points set_calibration_points
index start margins;
#X msg 588 153 margins \$1;
#X obj 411 282 delay 10;
#X obj 161 66 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X connect 0 0 7 0;
#X connect 1 0 5 1;
#X connect 5 0 6 0;
#X connect 5 1 9 0;
#X connect 6 0 11 0;
#X connect 7 0 5 0;
#X connect 8 0 15 0;
#X connect 9 0 11 0;
#X connect 10 0 13 0;
#X connect 12 0 5 0;
#X connect 13 0 7 1;
#X connect 13 1 8 0;
#X connect 13 2 5 2;
#X connect 13 3 12 0;
#X connect 13 4 5 0;
#X connect 13 5 14 0;
#X connect 14 0 5 0;
#X connect 15 0 5 1;
#X connect 16 0 7 1;
#X restore 84 393 pd upic;
#X obj 136 235 pix_info, f 20;
#X obj 159 267 s WIDTH;
#X obj 179 287 s HEIGHT;
#X obj 304 311 list prepend set_calibration_points;
#X obj 304 367 s TO_AUDIO_SESSION;
#X obj 304 344 list prepend send FEUILLEA4;
#X obj 412 241 spigot;
#X obj 641 195 r FEUILLEA4;
#X obj 645 221 route float;
#X obj 906 307 s BOUNDINGSRECT;
#X text 632 258 autre messages;
#X obj 590 220 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 121 117 989 529 cyclogroove 0;
#X obj 24 245 cvDrawContours;
#X msg 40 187 color 0 255 0 \, thickness 3, f 15;
#X obj 126 152 loadbang;
#X obj 19 408 cvDrawContours;
#X msg 158 186 color 0 0 255 \, thickness 3, f 16;
#N canvas 0 50 959 715 selection_inner_contours 0;
#X obj 362 27 inlet outer_contour;
#X obj 65 22 inlet all_contours;
#X obj 51 79 t a a;
#X obj 314 266 cvContoursFeature BoundingRect;
#N canvas 0 50 450 300 crit√®re_inclusion 0;
#X obj 78 40 inlet;
#X obj 267 50 inlet;
#X obj 123 413 outlet;
#X obj 69 96 unpack f f f f;
#X obj 279 96 unpack f f f f;
#X obj 296 195 +;
#X obj 239 132 t f f;
#X obj 356 195 +;
#X obj 299 132 t f f;
#X obj 73 125 t f f;
#X obj 102 166 +;
#X obj 137 124 t f f;
#X obj 170 164 +;
#X obj 88 266 >;
#X obj 128 266 <;
#X obj 198 266 >;
#X obj 238 266 <;
#X obj 101 322 &&;
#X obj 195 322 &&;
#X obj 296 170 - 5;
#X obj 356 170 - 5;
#X obj 218 173 + 5;
#X obj 240 207 + 5;
#X obj 127 371 &&;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 9 0;
#X connect 3 1 11 0;
#X connect 3 2 10 1;
#X connect 3 3 12 1;
#X connect 4 0 6 0;
#X connect 4 1 8 0;
#X connect 4 2 5 1;
#X connect 4 3 7 1;
#X connect 5 0 14 1;
#X connect 6 0 21 0;
#X connect 6 1 19 0;
#X connect 7 0 16 1;
#X connect 8 0 22 0;
#X connect 8 1 20 0;
#X connect 9 0 13 0;
#X connect 9 1 10 0;
#X connect 10 0 14 0;
#X connect 11 0 15 0;
#X connect 11 1 12 0;
#X connect 12 0 16 0;
#X connect 13 0 17 0;
#X connect 14 0 17 1;
#X connect 15 0 18 0;
#X connect 16 0 18 1;
#X connect 17 0 23 0;
#X connect 18 0 23 1;
#X connect 19 0 5 0;
#X connect 20 0 7 0;
#X connect 21 0 13 1;
#X connect 22 0 15 1;
#X connect 23 0 2 0;
#X restore 147 324 pd crit√®re_inclusion;
#X obj 87 126 cvContoursFeature BoundingRect;
#X obj 81 557 outlet inner_contours1;
#X obj 85 510 cvRouteContours 1;
#X obj 441 336 outlet;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 2 1 5 0;
#X connect 3 0 4 1;
#X connect 3 0 8 0;
#X connect 4 0 7 1;
#X connect 5 0 4 0;
#X connect 7 0 6 0;
#X restore 303 128 pd selection_inner_contours;
#N canvas 0 50 619 551 trier_4_plus_grands_contours 0;
#X obj 97 0 inlet;
#X obj 67 426 outlet;
#X obj 97 164 t a a;
#X obj 61 387 cvSortContours 4;
#X obj 404 45 cvContoursFeature IsHole;
#X obj 107 44 t a a;
#X obj 105 105 cvRouteContours 1;
#X obj 190 176 cvContoursFeature Perimeter;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 2 1 7 0;
#X connect 3 0 1 0;
#X connect 4 0 6 1;
#X connect 5 0 6 0;
#X connect 5 1 4 0;
#X connect 6 0 2 0;
#X connect 7 0 3 1;
#X restore 302 151 pd trier_4_plus_grands_contours;
#X obj 302 174 t a a a;
#X obj 315 230 cvRouteContours 1 2 3 4;
#X obj 34 114 pix_rgba;
#X text 501 178 ||||, f 1;
#X text 519 174 <- permet d'affecter un contour √† la m√™me unit√©
de traitement (store_contour) \, ind√©pendamment de l'ordre dans lequel
les contours sont initialement √©num√©r√©s par opencv, f 47;
#X obj 315 253 store_contour 259 \$0-contour1;
#X obj 354 279 store_contour 259 \$0-contour2;
#X obj 394 304 store_contour 259 \$0-contour3;
#X obj 435 331 store_contour 259 \$0-contour4;
#X obj 866 149 route 1 2 3 4;
#X obj 667 250 r CLOCK;
#X obj 551 151 s BOUNDINGSRECT;
#X obj 46 301 cyclo_draw \$0-contour1 255 0 0;
#X obj 660 280 cyclo_beat 259 \$0-contour1 \$0;
#X obj 56 331 cyclo_draw \$0-contour2 255 127 0;
#X obj 56 351 cyclo_draw \$0-contour3 127 0 127;
#X obj 66 381 cyclo_draw \$0-contour4 0 127 255;
#X obj 863 184 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 883 184 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 903 184 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 923 184 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 166 50 1111 504 contoursTracker 0;
#X obj 224 15 inlet;
#X obj 133 415 outlet;
#X obj 334 475 outlet <id> <state>;
#X obj 172 56 cvContoursFeature MinAreaRect;
#X obj 169 123 list prepend;
#X obj 163 155 list;
#X obj 146 33 t b a b;
#X obj 114 189 list append;
#X obj 105 4 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 771 50 402 614 init 0;
#X obj 15 31 loadbang;
#X obj 127 136 send contrast;
#X obj 114 185 send saturation;
#X msg 114 159 2.5;
#X msg 127 110 1.3;
#X obj 100 235 send low_threshold;
#X msg 100 213 0.04;
#X msg 87 260 1;
#X obj 87 282 send high_threshold;
#X obj 73 329 send threshold;
#X msg 73 307 0.15;
#X obj 60 375 send blobsize;
#X msg 60 352 0.2;
#X msg 6 539 0.15;
#N canvas 913 320 357 337 blob_lists 0;
#X obj 19 11 inlet;
#X obj 201 11 cnv 15 115 100 empty empty empty 20 12 0 14 -261234 -66577
0;
#X obj 207 18 table blob_ids;
#X obj 207 40 table blob_x;
#X obj 207 62 table blob_y;
#X msg 66 93 \; blob_ids resize 1 \; blob_ids 0 -1;
#X msg 50 148 \; blob_x resize 1 \; blob_x 0 -1;
#X msg 34 204 \; blob_y resize 1 \; blob_y 0 -1;
#X obj 207 85 table blob_times;
#X obj 82 66 s reset_time;
#X msg 19 259 \; blob_times resize 1 \; blob_times 0 -1;
#X obj 19 41 t b b b b b;
#X connect 0 0 11 0;
#X connect 11 0 10 0;
#X connect 11 1 7 0;
#X connect 11 2 6 0;
#X connect 11 3 5 0;
#X connect 11 4 9 0;
#X restore 141 83 pd blob_lists;
#X text 73 31 this thing initializes all the sliders and values;
#X obj 6 9 inlet;
#X obj 6 56 t b b b b b b b b b b b;
#X obj 46 422 send borderAreaSize;
#X obj 33 469 send maxTimeInBorderArea;
#X obj 19 515 send maxTimeAtAll;
#X obj 6 563 send maxManhattanDistance;
#X msg 19 492 3700;
#X msg 33 446 2500;
#X msg 46 399 0.75;
#X text 39 39 comment;
#X text 39 39 comment;
#X text 39 39 comment;
#X connect 0 0 17 0;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 10 0 9 0;
#X connect 12 0 11 0;
#X connect 13 0 21 0;
#X connect 16 0 17 0;
#X connect 17 0 13 0;
#X connect 17 1 22 0;
#X connect 17 2 23 0;
#X connect 17 3 24 0;
#X connect 17 4 12 0;
#X connect 17 5 10 0;
#X connect 17 6 7 0;
#X connect 17 7 6 0;
#X connect 17 8 3 0;
#X connect 17 9 4 0;
#X connect 17 10 14 0;
#X connect 22 0 20 0;
#X connect 23 0 19 0;
#X connect 24 0 18 0;
#X restore 705 59 pd init;
#X obj 705 38 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 725 36 revert to initial settings;
#X obj 765 122 hsl 128 15 0 1 0 0 empty borderAreaSize border_area_size
-2 -8 0 10 -262144 -1 -1 9525 1;
#X obj 754 174 hsl 151 15 0 15000 0 0 empty maxTimeInBorderArea max_time_in_border_area
-2 -8 0 10 -262144 -1 -1 2500 1;
#X floatatom 892 194 6 0 0 0 - - -, f 6;
#X floatatom 877 141 5 0 0 0 - - -, f 5;
#X obj 761 227 hsl 101 15 0 10000 0 0 empty maxTimeAtAll max_time_at_all
-2 -8 0 10 -262144 -1 -1 3700 1;
#X floatatom 858 247 6 0 0 0 - - -, f 6;
#N canvas 316 76 587 456 blob_lists 0;
#X obj 179 -15 inlet;
#X obj 48 166 until;
#X obj 48 203 f;
#X obj 48 135 t f b;
#X msg 88 167 0;
#X obj 96 203 + 1;
#X obj 67 298 sel -1;
#X obj 100 352 sel -1;
#X obj 48 235 t f f f;
#X obj 245 350 sel -1;
#N canvas 381 361 402 514 is_in_border_area 0;
#X obj 48 15 inlet;
#X obj 48 449 outlet;
#X obj 249 15 inlet;
#X floatatom 243 252 5 0 0 2 min_border - -, f 5;
#X obj 297 218 -;
#X floatatom 307 251 5 0 0 2 max_border - -, f 5;
#X obj 48 378 expr if ($f2 < $f4 || $f2 > $f5 \, $f1 \, -1) \; if ($f3
< $f4 || $f3 > $f5 \, $f1 \, -1);
#X obj 48 423 max;
#X obj 65 324 tabread blob_x;
#X obj 172 324 tabread blob_y;
#X obj 234 146 f;
#X obj 48 44 t f f f b;
#X msg 297 193 1 \$1;
#X obj 234 168 t f f;
#X connect 0 0 11 0;
#X connect 2 0 10 1;
#X connect 4 0 5 0;
#X connect 4 0 6 4;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 1 0;
#X connect 8 0 6 1;
#X connect 9 0 6 2;
#X connect 10 0 13 0;
#X connect 11 0 6 0;
#X connect 11 1 8 0;
#X connect 11 2 9 0;
#X connect 11 3 10 0;
#X connect 12 0 4 0;
#X connect 13 0 3 0;
#X connect 13 0 6 3;
#X connect 13 1 12 0;
#X restore 67 269 pd is_in_border_area;
#N canvas 883 247 212 207 remove_blob 0;
#X obj 11 8 inlet;
#X obj 11 54 sel -1;
#X msg 71 100 \; blob_ids \$1 -1 \; blob_x \$1 -1 \; blob_y \$1 -1
\; blob_times \$1 -1 \;;
#N canvas 516 326 431 658 remove_index 0;
#X obj 22 34 inlet;
#X text 21 15 index to remove:;
#X obj 41 110 until;
#X obj 41 136 f;
#X obj 90 135 + 1;
#X obj 56 373 tabread blob_ids;
#X obj 56 396 tabwrite blob_ids;
#X obj 71 321 tabread blob_x;
#X obj 86 294 tabwrite blob_y;
#X obj 71 344 tabwrite blob_x;
#X obj 86 271 tabread blob_y;
#X floatatom 182 84 5 0 0 0 - - -, f 5;
#X obj 228 196 - 1;
#X obj 22 58 t b b f;
#X obj 22 446 - 1;
#X obj 41 163 t f f f f f f;
#X msg 22 469 \; blob_ids resize \$1 \; blob_x resize \$1 \; blob_y
resize \$1 \; blob_times resize \$1;
#X obj 101 220 tabread blob_times;
#X obj 101 243 tabwrite blob_times;
#X obj 22 420 expr size("blob_ids");
#X obj 41 84 expr size("blob_ids");
#X connect 0 0 13 0;
#X connect 2 0 3 0;
#X connect 3 0 15 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 7 0 9 0;
#X connect 10 0 8 0;
#X connect 11 0 4 0;
#X connect 12 0 18 1;
#X connect 12 0 8 1;
#X connect 12 0 9 1;
#X connect 12 0 6 1;
#X connect 13 0 19 0;
#X connect 13 1 20 0;
#X connect 13 2 11 0;
#X connect 14 0 16 0;
#X connect 15 0 4 0;
#X connect 15 1 5 0;
#X connect 15 2 7 0;
#X connect 15 3 10 0;
#X connect 15 4 17 0;
#X connect 15 5 12 0;
#X connect 17 0 18 0;
#X connect 19 0 14 0;
#X connect 20 0 2 0;
#X restore 44 178 pd remove_index;
#X obj 11 32 index_of_blob;
#X obj 44 77 t f f;
#X connect 0 0 4 0;
#X connect 1 1 5 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 2 0;
#X restore 133 385 pd remove_blob;
#X obj 245 324 older_than_threshold;
#X obj 100 324 older_than_threshold;
#X obj 48 107 expr size("blob_ids");
#X floatatom 304 358 5 0 0 0 - - -, f 5;
#X obj 179 25 route borderAreaSize maxTimeInBorderArea maxTimeAtAll
;
#X obj 19 420 outlet;
#X obj 20 59 t a b;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 4 0 2 1;
#X connect 5 0 2 1;
#X connect 6 1 13 0;
#X connect 7 1 11 0;
#X connect 8 0 5 0;
#X connect 8 1 10 0;
#X connect 8 2 12 0;
#X connect 9 1 11 0;
#X connect 10 0 6 0;
#X connect 12 0 9 0;
#X connect 12 0 15 0;
#X connect 13 0 7 0;
#X connect 14 0 3 0;
#X connect 16 0 10 1;
#X connect 16 1 13 1;
#X connect 16 2 12 1;
#X connect 16 3 18 0;
#X connect 18 0 17 0;
#X connect 18 1 14 0;
#X restore 143 260 pd blob_lists;
#X msg 763 141 borderAreaSize \$1;
#X msg 751 193 maxTimeInBorderArea \$1;
#X msg 758 247 maxTimeAtAll \$1;
#X obj 799 331 hsl 101 15 0 1 0 0 empty maxManhattanDistance max_manhattan_dist.
-2 -8 0 10 -262144 -1 -1 1500 1;
#X floatatom 807 353 5 0 0 0 - - -, f 5;
#X text 954 350 Jakob Gomoll and Max Neupert \; GMU - Bauhaus-Universit√§t
Weimar 2013;
#N canvas 839 144 256 448 processBlobs 0;
#X obj 11 5 inlet;
#X obj 189 6 inlet;
#X obj 72 219 sel -1;
#X obj 129 155 t f f f;
#X obj 72 154 t f f f;
#X obj 45 55 t b a;
#N canvas 155 189 534 676 id_of_blob_by_pos 0;
#X obj 74 12 inlet;
#X obj 238 12 inlet;
#X obj 407 12 inlet;
#X obj 74 188 until;
#X obj 74 161 t f b;
#X msg 141 189 0;
#X obj 74 215 f;
#X obj 131 215 + 1;
#X obj 105 318 tabread blob_x;
#X obj 223 318 tabread blob_y;
#X floatatom 120 75 5 0 0 0 - - -, f 5;
#X floatatom 255 67 5 0 0 0 - - -, f 5;
#X floatatom 431 69 5 0 0 0 - - -, f 5;
#X obj 105 345 -;
#X obj 105 371 abs;
#X obj 223 345 -;
#X obj 223 371 abs;
#X obj 155 414 +;
#X msg 311 173 -1;
#X obj 74 245 t f f f f f;
#X obj 74 132 t f f;
#X obj 74 524 + 1;
#X obj 74 546 sel;
#X floatatom 15 291 5 0 0 0 - - -, f 5;
#X msg 343 173 10;
#X obj 206 274 tabread blob_ids;
#X obj 74 42 t b f b b;
#X floatatom 341 420 5 0 0 0 - - -, f 5;
#X obj 296 638 outlet;
#X floatatom 311 581 5 0 0 0 - - -, f 5;
#X obj 296 612 f;
#X obj 188 539 f;
#X obj 155 456 expr if ($f1 < $f2 && $f1 < $f3 \, $f1 \, -1) \;;
#X obj 155 487 sel -1;
#X obj 188 513 t b f;
#X floatatom 217 433 5 0 0 0 - - -, f 5;
#X obj 74 104 expr size("blob_ids");
#X connect 0 0 26 0;
#X connect 1 0 11 0;
#X connect 1 0 15 1;
#X connect 2 0 12 0;
#X connect 2 0 32 2;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 5 0 6 1;
#X connect 6 0 19 0;
#X connect 7 0 6 1;
#X connect 8 0 13 0;
#X connect 9 0 15 0;
#X connect 10 0 13 1;
#X connect 13 0 14 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 16 0 17 1;
#X connect 17 0 32 0;
#X connect 17 0 35 0;
#X connect 18 0 29 0;
#X connect 19 0 21 0;
#X connect 19 1 7 0;
#X connect 19 2 8 0;
#X connect 19 3 9 0;
#X connect 19 4 25 0;
#X connect 20 0 4 0;
#X connect 20 1 23 0;
#X connect 21 0 22 0;
#X connect 22 0 30 0;
#X connect 23 0 22 1;
#X connect 24 0 27 0;
#X connect 25 0 31 1;
#X connect 26 0 36 0;
#X connect 26 1 10 0;
#X connect 26 2 18 0;
#X connect 26 3 24 0;
#X connect 27 0 32 1;
#X connect 29 0 30 1;
#X connect 30 0 28 0;
#X connect 31 0 29 0;
#X connect 32 0 33 0;
#X connect 33 1 34 0;
#X connect 34 0 31 0;
#X connect 34 1 27 0;
#X connect 36 0 20 0;
#X restore 72 189 pd id_of_blob_by_pos;
#X obj 106 101 route list;
#X obj 72 129 unpack f f;
#N canvas 414 192 456 384 change_blob 0;
#X obj 15 29 inlet;
#X text 15 9 id:;
#X obj 119 30 inlet;
#X obj 220 31 inlet;
#X text 119 10 new x:;
#X text 220 11 new y:;
#X obj 15 95 sel -1;
#X obj 106 310 tabwrite blob_x;
#X obj 207 311 tabwrite blob_y;
#X obj 48 339 tabwrite blob_times;
#X obj 48 312 get_time;
#X obj 207 290 f;
#X obj 106 287 f;
#X obj 48 179 t b b f b f;
#X obj 15 64 index_of_blob;
#X connect 0 0 14 0;
#X connect 2 0 12 1;
#X connect 3 0 11 1;
#X connect 6 1 13 0;
#X connect 10 0 9 0;
#X connect 11 0 8 0;
#X connect 12 0 7 0;
#X connect 13 0 10 0;
#X connect 13 1 12 0;
#X connect 13 2 9 1;
#X connect 13 2 7 1;
#X connect 13 3 11 0;
#X connect 13 4 8 1;
#X connect 14 0 6 0;
#X restore 105 256 pd change_blob;
#N canvas 754 253 687 721 add_blob 0;
#X obj 233 29 inlet;
#X obj 337 29 inlet;
#X text 337 9 pos_y:;
#X text 233 9 pos_x:;
#X obj 18 546 tabwrite blob_ids;
#X obj 11 302 + 1;
#X floatatom -1 497 5 0 0 0 - - -, f 5;
#X obj -9 29 inlet;
#X text -9 9 bang:;
#X obj -9 474 get_valid_id;
#X obj -9 56 t b b;
#X obj 218 546 tabwrite blob_x;
#X obj 322 546 tabwrite blob_y;
#X obj 102 193 sel -1;
#X msg 102 218 0;
#X msg 135 218 1;
#X obj 102 167 tabread blob_ids;
#X msg 102 140 0;
#X obj -9 522 t f f;
#X obj -9 625 outlet;
#X msg 11 328 \; blob_ids resize \$1 \; blob_x resize \$1 \; blob_y
resize \$1 \; blob_times resize \$1;
#X obj 425 523 get_time;
#X obj 425 547 tabwrite blob_times;
#X obj -9 409 t b b b b;
#X obj 322 523 f;
#X obj 218 525 f;
#X obj 102 246 t f f f f f;
#X obj 102 88 value blobIDs;
#X obj 38 302 value blobIDs;
#X obj 102 114 sel 1;
#X connect 0 0 25 1;
#X connect 1 0 24 1;
#X connect 5 0 20 0;
#X connect 5 0 28 0;
#X connect 7 0 10 0;
#X connect 9 0 6 0;
#X connect 9 0 18 0;
#X connect 10 0 23 0;
#X connect 10 1 27 0;
#X connect 13 0 14 0;
#X connect 13 1 15 0;
#X connect 14 0 26 0;
#X connect 15 0 26 0;
#X connect 16 0 13 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 18 1 4 0;
#X connect 21 0 22 0;
#X connect 23 0 9 0;
#X connect 23 1 25 0;
#X connect 23 2 24 0;
#X connect 23 3 21 0;
#X connect 24 0 12 0;
#X connect 25 0 11 0;
#X connect 26 0 5 0;
#X connect 26 1 4 1;
#X connect 26 2 11 1;
#X connect 26 3 12 1;
#X connect 26 4 22 1;
#X connect 27 0 29 0;
#X connect 29 0 17 0;
#X connect 29 1 26 0;
#X restore 72 283 pd add_blob;
#X obj 11 31 list split 3;
#X obj 72 79 list split 2;
#X text 123 36 splitter "Matrix N 2";
#N canvas 841 243 450 300 extract_blobs_id 0;
#X obj 22 14 inlet;
#X obj 22 63 t f b;
#X obj 22 88 until;
#X obj 22 114 f;
#X msg 64 87 0;
#X obj 49 163 tabread blob_ids;
#X obj 22 139 t f f;
#X obj 64 113 + 1;
#X obj 49 186 moses 1;
#X obj 22 39 expr size("blob_ids");
#X obj 107 229 outlet;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 6 1 5 0;
#X connect 7 0 3 1;
#X connect 8 1 10 0;
#X connect 9 0 1 0;
#X restore 45 329 pd extract_blobs_id;
#N canvas 1040 96 450 582 draw_blob 0;
#X obj 24 14 inlet;
#X obj 148 135 tabread blob_y;
#X obj 43 135 tabread blob_x;
#X obj 148 159 * -6;
#X obj 148 183 + 3;
#X obj 24 240 translateXYZ;
#X obj 24 263 colorRGB 1 0.5 1;
#X obj 43 182 - 4;
#X obj 43 158 * 8;
#X obj 24 104 t b f f;
#X obj 24 377 colorRGB 0 1 0.5;
#X obj 38 405 loadbang;
#X msg 38 428 font Vera.ttf;
#X obj 24 472 text3d \$1;
#X obj 24 44 t f f;
#X floatatom 268 130 5 0 0 0 - - -, f 5;
#X obj 24 309 rectangle 0.01 0.6;
#X obj 24 286 rectangle 0.6 0.01;
#X msg 75 451 9;
#X obj 24 350 translateXYZ 0.2 0.4 0;
#X obj 24 73 index_of_blob;
#X obj 24 217 gemhead;
#X connect 0 0 14 0;
#X connect 1 0 3 0;
#X connect 2 0 8 0;
#X connect 3 0 4 0;
#X connect 4 0 5 2;
#X connect 5 0 6 0;
#X connect 6 0 17 0;
#X connect 7 0 5 1;
#X connect 8 0 7 0;
#X connect 9 0 21 0;
#X connect 9 1 2 0;
#X connect 9 2 1 0;
#X connect 10 0 13 0;
#X connect 11 0 12 0;
#X connect 11 0 18 0;
#X connect 12 0 13 0;
#X connect 14 0 20 0;
#X connect 14 1 15 0;
#X connect 15 0 13 0;
#X connect 16 0 19 0;
#X connect 17 0 16 0;
#X connect 18 0 13 1;
#X connect 19 0 10 0;
#X connect 20 0 9 0;
#X connect 21 0 5 0;
#X restore 122 368 pd draw_blob;
#X obj 42 414 outlet;
#X connect 0 0 11 0;
#X connect 1 0 6 2;
#X connect 2 0 10 0;
#X connect 2 1 9 0;
#X connect 3 0 6 1;
#X connect 3 1 10 2;
#X connect 3 2 9 2;
#X connect 4 0 6 0;
#X connect 4 1 10 1;
#X connect 4 2 9 1;
#X connect 5 0 14 0;
#X connect 5 1 12 0;
#X connect 6 0 2 0;
#X connect 7 0 12 0;
#X connect 8 0 4 0;
#X connect 8 1 3 0;
#X connect 11 1 5 0;
#X connect 12 0 8 0;
#X connect 12 1 7 0;
#X connect 14 0 15 0;
#X connect 14 0 16 0;
#X restore 143 322 pd processBlobs;
#X obj 114 218 list prepend matrix N 2;
#N canvas 0 50 450 300 normalize 0;
#X obj 129 12 inlet;
#X obj 135 241 outlet;
#X obj 143 212 pack f f;
#X obj 129 41 unpack f f;
#X obj 145 82 r WIDTH;
#X obj 215 82 r HEIGHT;
#X obj 128 112 /;
#X obj 191 120 /;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 3 1 7 0;
#X connect 4 0 6 1;
#X connect 5 0 7 1;
#X connect 6 0 2 0;
#X connect 7 0 2 1;
#X restore 173 90 pd normalize;
#X text 177 367 pour chaque bang en entr√©e renvoie les ID des contours
en sortie.;
#X connect 0 0 6 0;
#X connect 3 0 27 0;
#X connect 4 0 5 0;
#X connect 5 0 4 1;
#X connect 5 0 7 1;
#X connect 6 0 7 0;
#X connect 6 1 3 0;
#X connect 6 2 4 1;
#X connect 7 0 26 0;
#X connect 8 0 6 0;
#X connect 10 0 9 0;
#X connect 12 0 15 0;
#X connect 12 0 19 0;
#X connect 13 0 14 0;
#X connect 13 0 20 0;
#X connect 16 0 17 0;
#X connect 16 0 21 0;
#X connect 18 0 25 0;
#X connect 19 0 18 0;
#X connect 20 0 18 0;
#X connect 21 0 18 0;
#X connect 22 0 23 0;
#X connect 22 0 25 1;
#X connect 25 0 1 0;
#X connect 26 0 18 0;
#X connect 27 0 4 0;
#X restore 367 200 pd contoursTracker;
#X obj 115 52 inlet;
#X obj 31 77 r GEM;
#X obj 663 302 cyclo_beat 259 \$0-contour2 \$0;
#X obj 666 325 cyclo_beat 259 \$0-contour3 \$0;
#X obj 669 350 cyclo_beat 259 \$0-contour4 \$0;
#N canvas 0 50 1111 504 contoursTracker 0;
#X obj 268 36 inlet;
#X obj 133 445 outlet;
#X obj 80 42 loadbang;
#X obj 263 162 list split 2;
#X floatatom 375 346 5 0 0 0 - - -, f 5;
#N canvas 0 50 500 350 extraire_centroÔd+rayon 0;
#X obj 61 42 inlet;
#X obj 94 263 outlet;
#X obj 79 106 cvContoursFeature MinAreaRect Area Perimeter;
#X obj 84 154 unpack f f f f;
#X obj 87 235 pack f f f f;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 2;
#X connect 2 2 4 3;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 4 0 1 0;
#X restore 268 64 pd extraire_centroÔd+rayon;
#X text 373 90 tracker les 4 premiers triplets (x \, y \, r);
#X text 321 265 <sid> add / <sid> update / <sid> remove;
#X text 414 157 add <sid> x y r / update <sid> x y r / remove <sid>
;
#X msg 259 206 \$2 \$1;
#X obj 257 297 fid_multiplex 4;
#X msg 258 330 \$2 \$1;
#X obj 256 358 route update add remove;
#X msg 334 412 \$1 1;
#X obj 334 435 outlet <id> <state>;
#X msg 384 412 \$1 0;
#X obj 502 326 print tracker:add;
#X obj 512 356 print tracker:remove;
#X msg 371 239 clear;
#X msg 76 64 tolerance 15 15 20% 20%;
#X obj 268 96 tracker 400;
#X text 368 104 <-A DEBUGGER \, NE FAIT PAS CORRECTEMENT SON BOULOT....
;
#N canvas 0 50 661 300 tracker_algo 0;
#X text 70 41 pour chaque item entrant;
#X text 55 75 √©valuer distance avec blobs existants candidats. Se
d√©finir comme item privil√©gi√© du blob le plus proche;
#X text 70 139 puis pour chaque blob existant refaire une passe avec
items privil√©gi√©s. (au fur √† mesure des it√©rations \, les items
privil√©gi√©s recal√©s choisissent leur second blob candidat);
#X restore 846 105 pd tracker_algo;
#X connect 0 0 5 0;
#X connect 2 0 19 0;
#X connect 3 0 9 0;
#X connect 5 0 20 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 1 4 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 12 1 13 0;
#X connect 12 1 16 0;
#X connect 12 2 15 0;
#X connect 12 2 17 0;
#X connect 13 0 14 0;
#X connect 15 0 14 0;
#X connect 18 0 10 0;
#X connect 19 0 20 0;
#X connect 20 0 3 0;
#X restore 377 70 pd contoursTracker old;
#X connect 0 0 19 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 18 0;
#X connect 6 0 7 0;
#X connect 7 0 0 1;
#X connect 7 1 8 0;
#X connect 7 2 28 0;
#X connect 8 0 12 0;
#X connect 8 1 13 0;
#X connect 8 2 14 0;
#X connect 8 3 15 0;
#X connect 9 0 0 0;
#X connect 16 0 20 1;
#X connect 16 0 24 0;
#X connect 16 1 25 0;
#X connect 16 1 31 1;
#X connect 16 2 26 0;
#X connect 16 2 32 1;
#X connect 16 3 27 0;
#X connect 16 3 33 1;
#X connect 17 0 20 0;
#X connect 19 0 21 0;
#X connect 20 0 31 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 3 0;
#X connect 28 0 8 1;
#X connect 28 1 16 0;
#X connect 29 0 5 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X restore 674 329 pd cyclogroove;
#X obj 51 178 t a a a a a;
#X obj 31 237 s GEM;
#N canvas 198 50 853 617 detection_A4 0;
#X obj 267 6 loadbang;
#X obj 24 325 cvDrawContours;
#X floatatom 264 68 5 0 0 0 - - -, f 5;
#X obj 199 186 cvFindContours;
#X obj 169 160 t a a;
#X obj 169 52 pix_grey;
#X obj 294 210 detectionA4 500;
#X obj 421 177 hsl 128 15 200 2000 0 1 empty empty empty -2 -8 0 10
-262144 -1 -1 9800 1;
#X obj 355 243 spigot;
#X obj 172 91 cvAthreshold;
#X obj 34 194 pix_rgba;
#X obj 167 132 cvErode 1;
#X msg 253 135 0;
#X obj 169 20 inlet;
#X msg 63 281 thickness 4 \, color 255 0 0;
#X msg 298 137 1;
#X obj 95 239 loadbang;
#X msg 263 48 39;
#X obj 315 431 unpack f f;
#X obj 592 414 unpack f f;
#X obj 217 540 pack f f f f f f f f, f 68;
#X obj 621 167 r WIDTH;
#X obj 688 203 r HEIGHT;
#X obj 244 571 outlet;
#X obj 218 461 expr $f1/$f5 \; 1-$f2/$f6 \; $f3/$f5 \; 1-$f4/$f6,
f 29;
#X obj 528 461 expr $f1/$f5 \; 1-$f2/$f6 \; $f3/$f5 \; 1-$f4/$f6,
f 29;
#X floatatom 402 397 5 0 0 0 - - -, f 5;
#X obj 494 427 unpack f f;
#X obj 205 431 unpack f f;
#X obj 226 324 cvContoursPoints 4;
#X obj 226 400 route 3 2 1 0;
#X obj 588 51 inlet params;
#X msg 547 114;
#X obj 633 85 route scale;
#X obj 402 315 outlet;
#X obj 34 414 pix_texture;
#X obj 27 464 rectangle 2.666 2;
#X obj 36 491 translateXYZ 2.66 -2 -0.1;
#X floatatom 493 220 5 0 0 0 - - -, f 5;
#X obj 204 248 cvApproxContours 0.1;
#X obj 26 441 translateXYZ 2.66 -2 0.1;
#N canvas 0 50 450 300 sorting_points 0;
#X obj 83 12 inlet;
#X restore 351 584 pd sorting_points;
#X connect 0 0 17 0;
#X connect 0 0 15 0;
#X connect 2 0 9 2;
#X connect 3 1 6 0;
#X connect 4 0 10 0;
#X connect 4 1 3 0;
#X connect 5 0 9 0;
#X connect 6 0 39 0;
#X connect 6 1 8 0;
#X connect 6 2 8 1;
#X connect 7 0 6 1;
#X connect 7 0 38 0;
#X connect 8 0 34 0;
#X connect 9 0 11 0;
#X connect 10 0 1 0;
#X connect 11 0 4 0;
#X connect 12 0 11 1;
#X connect 13 0 5 0;
#X connect 14 0 1 0;
#X connect 15 0 11 1;
#X connect 16 0 14 0;
#X connect 17 0 2 0;
#X connect 18 0 24 2;
#X connect 18 1 24 3;
#X connect 19 0 25 2;
#X connect 19 1 25 3;
#X connect 20 0 23 0;
#X connect 21 0 24 4;
#X connect 21 0 25 4;
#X connect 22 0 24 5;
#X connect 22 0 25 5;
#X connect 24 0 20 0;
#X connect 24 1 20 1;
#X connect 24 2 20 2;
#X connect 24 3 20 3;
#X connect 25 0 20 4;
#X connect 25 1 20 5;
#X connect 25 2 20 6;
#X connect 25 3 20 7;
#X connect 27 0 25 0;
#X connect 27 1 25 1;
#X connect 28 0 24 0;
#X connect 28 1 24 1;
#X connect 29 0 30 0;
#X connect 29 1 26 0;
#X connect 30 0 28 0;
#X connect 30 1 18 0;
#X connect 30 2 27 0;
#X connect 30 3 19 0;
#X connect 31 0 33 0;
#X connect 33 0 6 1;
#X connect 35 0 40 0;
#X connect 36 0 37 0;
#X connect 39 0 1 1;
#X connect 39 0 29 0;
#X connect 40 0 36 0;
#X restore 414 267 pd detection_A4;
#X obj 112 346 rectangle 5.33 4;
#X msg 469 74 4;
#N canvas 531 54 810 685 homographic 0;
#X obj 431 134 declare -stdpath extra/iemmatrix;
#X obj 281 509 t a;
#X obj 434 168 declare -stdpath extra/rj_dj;
#X text 403 415 <- 2;
#X text 412 481 <- 3;
#X obj 10 407 cnv 15 150 400 empty empty empty 20 12 0 14 -262130 -66577
0;
#X obj 174 507 gemhead;
#X msg 284 481 dimen 512 512;
#X text 21 406 chaine de rendu √† mapper, f 12;
#X msg 140 416 -0.0604026 0.110417 0.902073 0.15625 0.0666775 0.88125
0.412502 0.510417;
#X msg 396 498 ratio 1;
#X obj 187 450 mapping/findHomography projection;
#X obj 40 503 inlet;
#X obj 46 547 outlet;
#X obj 92 538 mapping/homographic projection;
#X obj 142 98 pack f f;
#X obj 152 146 list prepend 0;
#X obj 286 90 hradio 15 1 0 5 empty empty empty 0 -8 0 10 -262144 -1
-1 4;
#X obj 154 195 route 1 2 3 4;
#X obj 338 251 list append;
#X obj 448 271 list append;
#X obj 558 291 list append;
#X obj 118 171 t b l;
#X obj 110 226 t b b b b;
#X obj 228 231 list append;
#X obj 411 308 list append;
#X obj 251 318 list append;
#X obj 273 357 list append;
#X obj 155 2 gemmouse 1 1;
#X obj 242 112 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 145 121 spigot;
#X obj 90 30 - 0.5;
#X obj 92 51 * 1.3333;
#X obj 92 76 + 0.5;
#X obj 67 334 list prepend set;
#X obj 71 360 list trim;
#X obj 78 191 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 1 0 14 2;
#X connect 6 0 14 1;
#X connect 7 0 14 0;
#X connect 9 0 11 0;
#X connect 10 0 14 0;
#X connect 12 0 14 0;
#X connect 14 0 13 0;
#X connect 14 1 1 0;
#X connect 15 0 30 0;
#X connect 16 0 22 0;
#X connect 17 0 16 1;
#X connect 18 0 24 1;
#X connect 18 1 19 1;
#X connect 18 2 20 1;
#X connect 18 3 21 1;
#X connect 19 0 26 1;
#X connect 20 0 25 0;
#X connect 21 0 25 1;
#X connect 22 0 23 0;
#X connect 22 1 18 0;
#X connect 23 0 24 0;
#X connect 23 1 19 0;
#X connect 23 2 20 0;
#X connect 23 3 21 0;
#X connect 24 0 26 0;
#X connect 25 0 27 1;
#X connect 26 0 27 0;
#X connect 27 0 11 0;
#X connect 27 0 34 0;
#X connect 28 0 31 0;
#X connect 28 1 15 1;
#X connect 28 2 29 0;
#X connect 28 2 30 1;
#X connect 30 0 16 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 15 0;
#X connect 34 0 35 0;
#X connect 35 0 9 0;
#X connect 36 0 23 0;
#X restore 56 147 pd homographic;
#X obj 272 63 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 33 73 list prepend 0;
#X obj 28 98 route 0 1;
#X obj 99 293 spigot;
#X obj 135 266 tgl 15 0 empty empty image 17 7 0 10 -262144 -1 -1 1
1;
#X obj 217 125 == 0;
#X obj 50 474 pix_write;
#X obj 4 205 t a a;
#X msg 627 523 sizeX sizeY;
#X msg 628 502 posX posY;
#X msg 505 489 bang;
#X msg 633 439 auto 0/1;
#X obj 802 382 savepanel;
#X msg 746 468 file \$1 80;
#X obj 746 379 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 81 438 0 0;
#X msg 134 447 640 480;
#X obj 27 438 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 592 340 tgl 15 0 empty empty capture 17 7 0 10 -262144 -1 -1
0 1;
#X msg 575 419 auto \$1;
#X obj 625 379 select 1;
#X obj 845 408 t b s;
#X obj 731 418 delay 100;
#X msg 738 448 1;
#X msg 611 127 5;
#N canvas 777 216 566 434 viewzoom 0;
#X obj 204 114 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 267 111 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 237 114 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 57 189 spigot;
#X obj 69 80 - 2;
#X obj 153 20 gemmouse 4 4;
#X obj 119 80 - 2;
#X obj 54 231 spigot;
#X obj 235 229 spigot;
#X obj 23 325 list append 4;
#X msg 204 312 \; gemwin view \$1 \$2 \$3;
#X obj 199 282 list prepend 0 0;
#X obj 57 164 pack f f;
#X msg 313 154 1;
#X msg 150 196 0;
#X obj 179 72 * 0.75;
#X obj 179 97 + 1.01;
#X obj 315 74 select 1 0;
#X obj 399 125 delay 10;
#X msg 390 164 1;
#X msg 354 166 0;
#X obj 40 114 * -1;
#X obj 446 244 delay 5000;
#X msg 447 275 0;
#X obj 168 162 select 0 1;
#X msg 263 200 stop;
#X connect 0 0 3 1;
#X connect 3 0 7 0;
#X connect 4 0 21 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 5 1 15 0;
#X connect 5 2 0 0;
#X connect 5 2 24 0;
#X connect 5 3 2 0;
#X connect 5 4 1 0;
#X connect 5 4 17 0;
#X connect 6 0 12 1;
#X connect 7 0 9 0;
#X connect 7 0 11 1;
#X connect 8 0 11 0;
#X connect 8 0 9 1;
#X connect 9 0 10 0;
#X connect 11 0 10 0;
#X connect 12 0 3 0;
#X connect 13 0 7 1;
#X connect 14 0 7 1;
#X connect 15 0 16 0;
#X connect 16 0 8 0;
#X connect 17 0 18 0;
#X connect 17 1 20 0;
#X connect 17 1 22 0;
#X connect 17 1 13 0;
#X connect 18 0 19 0;
#X connect 19 0 8 1;
#X connect 20 0 8 1;
#X connect 21 0 12 0;
#X connect 22 0 23 0;
#X connect 23 0 7 1;
#X connect 24 0 14 0;
#X connect 24 1 25 0;
#X connect 25 0 22 0;
#X restore 83 529 pd viewzoom;
#X obj 675 120 r TO_AUDIO_SESSION;
#X obj 675 144 stdout;
#X obj 769 256 loadbang;
#X msg 769 281 \; pd dsp 1;
#X obj 180 95 r render;
#X obj 854 115 r TO_VIDEO;
#X obj 849 141 list split 1;
#X obj 846 165 t b s;
#X obj 863 197 list append;
#X obj 863 225 list trim;
#X obj 863 250 s;
#X text 958 131 dans le cas d'une utilisation dans le m√™me thread
;
#X obj 51 43 pix_openni 1 1 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 31 0;
#X connect 6 0 72 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 15 1 16 0;
#X connect 15 2 17 0;
#X connect 18 0 20 0;
#X connect 20 0 19 0;
#X connect 21 0 30 0;
#X connect 22 0 23 0;
#X connect 23 0 21 1;
#X connect 23 0 26 0;
#X connect 23 1 30 1;
#X connect 28 0 41 0;
#X connect 28 1 14 0;
#X connect 28 2 21 0;
#X connect 28 3 37 0;
#X connect 28 4 15 0;
#X connect 30 0 18 0;
#X connect 32 0 2 0;
#X connect 33 0 28 0;
#X connect 34 0 35 1;
#X connect 34 0 39 0;
#X connect 35 0 36 0;
#X connect 36 0 28 0;
#X connect 36 1 33 0;
#X connect 37 0 5 0;
#X connect 38 0 37 1;
#X connect 39 0 38 0;
#X connect 41 0 40 0;
#X connect 41 1 29 0;
#X connect 46 0 55 0;
#X connect 47 0 40 0;
#X connect 48 0 46 0;
#X connect 49 0 40 1;
#X connect 50 0 40 2;
#X connect 51 0 40 0;
#X connect 52 0 54 0;
#X connect 53 0 40 0;
#X connect 54 0 46 0;
#X connect 54 1 53 0;
#X connect 55 0 56 0;
#X connect 55 1 47 0;
#X connect 56 0 57 0;
#X connect 57 0 53 0;
#X connect 58 0 2 0;
#X connect 60 0 61 0;
#X connect 62 0 63 0;
#X connect 64 0 6 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 66 1 68 1;
#X connect 67 0 68 0;
#X connect 67 1 70 1;
#X connect 68 0 69 0;
#X connect 69 0 70 0;
#X connect 72 0 35 0;
